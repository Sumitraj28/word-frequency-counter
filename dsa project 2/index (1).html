<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Word Frequency Counter</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <style>
    .gradient-bg {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    }
    .card-shadow {
      box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
    }
    .neon-glow {
      box-shadow: 0 0 20px rgba(139, 92, 246, 0.3);
    }
    .hover-lift:hover {
      transform: translateY(-2px);
    }
  </style>
</head>
<body class="gradient-bg min-h-screen flex flex-col items-center justify-center p-4">
  <h1 class="text-5xl font-black text-white mb-8 text-center tracking-tight drop-shadow-lg">
    <span class="bg-gradient-to-r from-pink-300 via-purple-300 to-indigo-300 bg-clip-text text-transparent">
      Word Frequency Counter
    </span>
  </h1>
  
  <div class="bg-white/95 backdrop-blur-sm card-shadow rounded-3xl p-0 sm:p-8 max-w-4xl w-full flex flex-col sm:flex-row gap-0 sm:gap-8 border border-white/20">
    <div class="sm:w-1/2 border-b sm:border-b-0 sm:border-r border-purple-200 p-6 flex flex-col justify-center">
      <form id="wordForm" class="space-y-4">
        <div>
          <label class="block text-gray-800 font-bold mb-3 text-lg">‚ú® Paste your text:</label>
          <textarea 
            id="textInput" 
            class="w-full p-4 border-2 border-purple-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-400 focus:border-transparent resize-none bg-gradient-to-br from-purple-50 to-pink-50 hover-lift transition-all duration-300" 
            rows="7" 
            placeholder="Type or paste your amazing text here...">
          </textarea>
        </div>
        
        <div class="flex items-center justify-between">
          <span class="text-gray-600 font-medium">or upload a file</span>
          <input 
            type="file" 
            id="fileInput" 
            accept=".txt" 
            class="ml-4 text-sm text-purple-600 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-purple-50 file:text-purple-700 hover:file:bg-purple-100 file:cursor-pointer" 
          />
        </div>
        
        <div class="flex gap-3">
          <button 
            type="submit" 
            class="flex-1 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-bold py-3 px-6 rounded-xl hover:from-purple-700 hover:to-pink-700 transition-all duration-300 shadow-lg hover-lift neon-glow">
            üîç Count Words
          </button>
          <button 
            type="button" 
            id="clearBtn" 
            class="flex-1 bg-gradient-to-r from-gray-400 to-gray-500 text-white font-bold py-3 px-6 rounded-xl hover:from-gray-500 hover:to-gray-600 transition-all duration-300 shadow-lg hover-lift">
            üóëÔ∏è Clear Result
          </button>
        </div>
      </form>
      <div id="errorMsg" class="text-red-500 mt-4 hidden bg-red-50 p-3 rounded-lg border border-red-200"></div>
    </div>
    
    <div class="sm:w-1/2 p-6 flex flex-col justify-center bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50 rounded-b-3xl sm:rounded-b-none sm:rounded-r-3xl">
      <div id="result" class="hidden transition-all duration-500">
        <h2 class="text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-pink-600 mb-6 flex items-center gap-3">
          <svg class="w-7 h-7 text-purple-500" fill="none" stroke="currentColor" stroke-width="2.5" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"/>
          </svg>
          Word Frequencies
        </h2>
        <div id="freqTable" class="overflow-x-auto"></div>
      </div>
    </div>
  </div>
  
  <script>
    document.getElementById('wordForm').addEventListener('submit', function(e) {
      e.preventDefault();
      
      const textInput = document.getElementById('textInput');
      const fileInput = document.getElementById('fileInput');
      const errorMsg = document.getElementById('errorMsg');
      const result = document.getElementById('result');
      const freqTable = document.getElementById('freqTable');
      
      errorMsg.classList.add('hidden');
      
      let text = textInput.value.trim();
      
      if (!text && fileInput.files.length === 0) {
        showError('Please enter some text or select a file.');
        return;
      }
      
      if (fileInput.files.length > 0) {
        const file = fileInput.files[0];
        const reader = new FileReader();
        
        reader.onload = function(e) {
          text = e.target.result;
          processText(text);
        };
        
        reader.onerror = function() {
          showError('Error reading file. Please try again.');
        };
        
        reader.readAsText(file);
      } else {
        processText(text);
      }
      
      function processText(inputText) {
        if (!inputText.trim()) {
          showError('The text appears to be empty. Please try again.');
          return;
        }
        
        // Clean and split text into words
        const words = inputText.toLowerCase()
          .replace(/[^\w\s]/g, ' ')
          .split(/\s+/)
          .filter(word => word.length > 0);
        
        if (words.length === 0) {
          showError('No valid words found in the text.');
          return;
        }
        
        // Count word frequencies
        const frequency = {};
        words.forEach(word => {
          frequency[word] = (frequency[word] || 0) + 1;
        });
        
        // Sort by frequency (descending)
        const sortedWords = Object.entries(frequency)
          .sort((a, b) => b[1] - a[1])
          .slice(0, 20); // Show top 20 words
        
        displayResults(sortedWords, words.length);
      }
      
      function displayResults(sortedWords, totalWords) {
        const colors = [
          'from-purple-500 to-pink-500',
          'from-blue-500 to-indigo-500',
          'from-green-500 to-teal-500',
          'from-yellow-500 to-orange-500',
          'from-red-500 to-pink-500'
        ];
        
        let tableHTML = `
          <div class="bg-white/80 backdrop-blur-sm rounded-xl p-4 shadow-lg border border-purple-200">
            <div class="mb-4 text-center">
              <p class="text-lg font-semibold text-gray-700">
                üìä Total Words: <span class="text-purple-600 font-bold">${totalWords}</span>
              </p>
              <p class="text-sm text-gray-600">Showing top ${Math.min(sortedWords.length, 20)} most frequent words</p>
            </div>
            <div class="space-y-2">
        `;
        
        sortedWords.forEach(([word, count], index) => {
          const percentage = ((count / totalWords) * 100).toFixed(1);
          const colorClass = colors[index % colors.length];
          
          tableHTML += `
            <div class="flex items-center justify-between p-3 bg-gradient-to-r ${colorClass} rounded-lg text-white shadow-md hover-lift transition-all duration-300">
              <div class="flex items-center gap-3">
                <span class="bg-white/20 rounded-full w-8 h-8 flex items-center justify-center text-sm font-bold">
                  ${index + 1}
                </span>
                <span class="font-semibold text-lg">${word}</span>
              </div>
              <div class="text-right">
                <div class="text-xl font-bold">${count}</div>
                <div class="text-sm opacity-90">${percentage}%</div>
              </div>#include <iostream>
              #include <fstream>
              #include <sstream>
              #include <string>
              #include <unordered_map>
              #include <algorithm>
              #include <vector>
              
              using namespace std;
              
              // Function to process text and count word frequencies
              unordered_map<string, int> countWordFrequencies(const string& text) {
                  unordered_map<string, int> wordFrequencies;
                  stringstream ss(text);
                  string word;
              
                  while (ss >> word) {
                      // Remove punctuation and convert to lowercase
                      word.erase(remove_if(word.begin(), word.end(), ::ispunct), word.end());
                      transform(word.begin(), word.end(), word.begin(), ::tolower);
              
                      wordFrequencies[word]++;
                  }
              
                  return wordFrequencies;
              }
              
              // Function to sort word frequencies
              vector<pair<string, int>> sortWordFrequencies(const unordered_map<string, int>& wordFrequencies) {
                  vector<pair<string, int>> sortedFrequencies(wordFrequencies.begin(), wordFrequencies.end());
                  sort(sortedFrequencies.begin(), sortedFrequencies.end(), [](const auto& a, const auto& b) {
                      return a.second > b.second;
                  });
                  return sortedFrequencies;
              }
              
              int main() {
                  string filename;
                  cout << "Enter the filename: ";
                  cin >> filename;
              
                  ifstream file(filename);
                  if (!file.is_open()) {
                      cerr << "Could not open the file." << endl;
                      return 1;
                  }
              
                  stringstream buffer;
                  buffer << file.rdbuf();
                  string fileContent = buffer.str();
              
                  // Count word frequencies
                  unordered_map<string, int> wordFrequencies = countWordFrequencies(fileContent);
              
                  // Sort word frequencies
                  vector<pair<string, int>> sortedFrequencies = sortWordFrequencies(wordFrequencies);
              
                  // Output the results
                  cout << "\nWord Frequencies:\n";
                  for (const auto& pair : sortedFrequencies) {
                      cout << pair.first << ": " << pair.second << endl;
                  }
              
                  return 0;
              }
              
            </div>
          `;
        });
        
        tableHTML += '</div></div>';
        
        freqTable.innerHTML = tableHTML;
        result.classList.remove('hidden');
        result.scrollIntoView({ behavior: 'smooth' });
      }
      
      function showError(message) {
        errorMsg.textContent = message;
        errorMsg.classList.remove('hidden');
      }
    });
    
    document.getElementById('clearBtn').addEventListener('click', function() {
      document.getElementById('textInput').value = '';
      document.getElementById('fileInput').value = '';
      document.getElementById('result').classList.add('hidden');
      document.getElementById('errorMsg').classList.add('hidden');
    });
  </script>
</body>
</html>